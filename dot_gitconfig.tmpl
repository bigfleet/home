# ~/.local/share/chezmoi/dot_gitconfig.tmpl

[user]
    name = Jim Van Fleet
    email = {{ .email | quote }}
[init]
    defaultBranch = main

[core]
    autocrlf = input
    editor = code --wait

# Conditional includes for work/personal configurations
# These paths WILL NOT be in your public chezmoi repo.
# You will create them manually on each machine.
[includeIf "gitdir:~/src/work/"]
    path = ~/.gitconfig-work

[includeIf "gitdir:~/src/personal/"]
    path = ~/.gitconfig-personal

# OS-specific settings
{{- if eq .chezmoi.os "linux" -}}
    {{- if eq .chezmoi.hostname "forge" -}}
# WSL-specific settings
[gpg]
    program = "c:/Program Files (x86)/1Password/Agent/1Password.exe"
{{- else -}}
# Native Linux settings (adjust if you use system-wide GPG/credential helpers)
[credential]
    helper = store # Or use gnome-keyring, etc.
[gpg]
    program = gpg # Standard GPG path
    {{- end -}}
{{- else if eq .chezmoi.os "darwin" -}}
# macOS-specific settings
[credential]
    helper = osxkeychain
[gpg]
    program = /opt/homebrew/bin/gpg # Adjust if GPG is not via Homebrew or different path
{{- end -}}